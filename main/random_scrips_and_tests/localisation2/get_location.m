function [location] = get_location(y,x)

x1 = [460;0;50];
x2 = [0;0;50];
x3 = [0;460;50];
x4 = [460;460;50];
x5 = [230;460;80];

r = TDOA (y,x);

r12 = r(1);
r13 = r(2);
r14 = r(3);
r15 = r(4);
r23 = r(5);
r24 = r(6);
r25 = r(7);
r34 = r(8);
r35 = r(9);
r45 = r(10);

A = [2.*(x2-x1)'    ,   -2*r12,     0,      0,      0;
     2.*(x3-x1)'    ,   0,          -2*r13, 0,      0;
     2.*(x4-x1)'    ,   0,          0,      -2*r14, 0;
     2.*(x5-x1)'    ,   0,          0,      0,      -2*r15;
     2.*(x3-x2)'    ,   0,          -2*r23, 0,      0;
     2.*(x4-x2)'    ,   0,          0,      -2*r24, 0;
     2.*(x5-x2)'    ,   0,          0,      0,      -2*r25;
     2.*(x4-x3)'    ,   0,          0,      -2*r34, 0;
     2.*(x5-x3)'    ,   0,          0,      0,      -2*r35;
     2.*(x5-x4)'    ,   0,          0,      0,      -2*r45;];
 
 b = [(r12)^2 - (norm(x1))^2 + (norm(x2))^2;
      (r13)^2 - (norm(x1))^2 + (norm(x3))^2;
      (r14)^2 - (norm(x1))^2 + (norm(x4))^2;
      (r15)^2 - (norm(x1))^2 + (norm(x5))^2;
      (r23)^2 - (norm(x2))^2 + (norm(x3))^2;
      (r24)^2 - (norm(x2))^2 + (norm(x4))^2;
      (r25)^2 - (norm(x2))^2 + (norm(x5))^2;
      (r34)^2 - (norm(x3))^2 + (norm(x4))^2;
      (r35)^2 - (norm(x3))^2 + (norm(x5))^2;
      (r45)^2 - (norm(x4))^2 + (norm(x5))^2;];
  
locs = inv(transpose(A)*A)*transpose(A)*b;
%locs = (A\b)' ;
%locs = pinv(A)*b

location = [round(locs(1)), round(locs(2))];
end
